<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>SPK - การจัดการขอคำสั่งการผลิตเพิ่มเติม</title>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

  <!-- Page level plugin CSS-->
  <link href="vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin.css" rel="stylesheet">
  <link href="css/sweetalert2.css" rel="stylesheet">

</head>

<body id="page-top">

  <nav class="navbar navbar-expand navbar-dark bg-dark static-top">

    <a class="navbar-brand mr-1" href="check-status.html">SPK : การจัดการขอคำสั่งการผลิตเพิ่มเติม</a>

    <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Navbar Search -->
    <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
        <div class="input-group-append">
          <button class="btn btn-primary" type="button">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
    </form>

    <!-- Navbar -->
    <ul class="navbar-nav ml-auto ml-md-0">        
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-user-circle fa-fw"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
          <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">ออกจากระบบ</a>
        </div>
      </li>
    </ul>

  </nav>

  <div id="wrapper">

    <!-- Sidebar -->        
    <ul class="sidebar navbar-nav">
      <li class="nav-item active" id="check-status-nav">
          <a class="nav-link" href="check-status.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>ตรวจสอบสถานะการผลิต</span>
          </a>
      </li>       
      <li class="nav-item" id="determine-material-nav">
          <a class="nav-link" href="determine-recipe.html">
          <i class="fas fa-fw fa-list-alt"></i>
          <span>การจัดการสูตรการผลิต</span></a>
      </li>  
      <li class="nav-item" id="determine-material-nav">
          <a class="nav-link" href="determine-material.html">
          <i class="fas fa-fw fa-list-alt"></i>
          <span>กำหนดวัตถุดิบ</span></a>
      </li>  
      <li class="nav-item" id="production-planning-nav">
          <a class="nav-link" href="production-planning.html">
          <i class="fas fa-fw fa-calendar-alt"></i>
          <span>วางแผนการผลิต</span></a>
      </li>
      <li class="nav-item" id="delivery-document-nav">
          <a class="nav-link" href="delivery-document.html">
          <i class="fas fa-fw fa-truck"></i>
          <span>ออกใบส่งสินค้า</span></a>
      </li>
    </ul>

    <div id="content-wrapper">

      <div class="container-fluid">
      
        
        <!-- Breadcrumbs-->
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="check-status.html">การจัดการการผลิต</a>
          </li>
          <li class="breadcrumb-item">
            <a href="check-status.html">ตรวจสอบสถานะการผลิต</a>
          </li>
          <li class="breadcrumb-item active">รายละเอียดคำสั่งซื้อ</li>
        </ol>

        <!-- DataTables Example -->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fas fa-clipboard-list"></i>
            คำสั่งซื้อหมายเลข 12620018
          </div>
          <div class="card-body">
            <div class="row">   
              <div class="col-12 mb-3 "> 
                <div class="card">                
                  <div class="card-header">รายละเอียด</div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-8 d-flex">
                        <div class="col-md-3 text-right">ชื่อ-สกุล:</div>
                        <div class="col-md-9"> สมชาย สมานฉันท์</div>
                      </div>
                      <div class="col-md-4 d-flex">
                        <div class="col-md-6 text-right">กำหนดการจัดส่ง:</div> 
                        <div class="col-md-6">28/12/62</div>
                      </div>
                      <div class="col-md-8 d-flex">
                        <div class="col-md-3 text-right">รายการสั่งซื้อ:</div> 
                        <div class="col-md-9">เส้นเล็กสูตร2</div>
                      </div>
                      <div class="col-md-4 d-flex">
                        <div class="col-md-6 text-right">จำนวน:</div> 
                        <div class="col-md-6">30000 ห่อ</div>
                      </div>
                      <div class="col-md-8 d-flex">
                        <div class="col-md-3 text-right">สูตรที่ใช้:</div> 
                        <div class="col-md-9">SN2</div>
                      </div>
                      <div class="col-md-4 d-flex">
                        <div class="col-md-6 text-right">จำนวนที่ต้องผลิต:</div> 
                        <div class="col-md-6">30003 ห่อ</div>
                      </div>
                      <div class="col-md-12 d-flex">
                        <div class="col-md-2 text-right">ที่อยู่การจัดส่ง:</div> 
                        <div class="col-md-10">XXXXXXXXXXXXXXXXXXXXXXX</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="table-responsive">
              <table class="table table-bordered" data-order='[[ 0, "desc" ]]' id="dataTable" width="100%" cellspacing="0">
                <thead>
                  <tr>
                    <th></th>
                    <th>วันที่</th>
                    <th>ขอผลิตเพิ่มเติม</th>
                    <th>วัตถุดิบที่ขอเบิกเพิ่มเติม</th>                    
                    <th>หมายเหตุ</th>
                  </tr>
                </thead>
                <tfoot>
                  <tr>
                    <th></th>
                    <th>วันที่</th>
                    <th>ขอผลิตเพิ่มเติม</th>
                    <th>วัตถุดิบที่ขอเบิกเพิ่มเติม</th>      
                    <th>หมายเหตุ</th>
                  </tr>
                </tfoot>
                <tbody>
                  <tr>    
                    <td>
                      <button type="button" class="btn btn-danger mr-3" title="Reject" data-toggle="modal" data-target="#rejectModal">Reject</button>
                      <button type="button" class="btn btn-success" onclick="approve()">Approve</button>
                    </td>                
                    <td>21/12/2562</td>
                    <td>100</td>
                    <td>
                      <table class="width-100">
                        <tbody>
                          <tr>
                            <td>ข้าวสาลี</td>
                            <td>10</td>
                          </tr>
                          <tr>
                            <td>ข้าวไรซ์เบอรี่</td>
                            <td>3</td>
                          </tr>
                          <tr>
                            <td>น้ำ</td>
                            <td>2</td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                    <td>ชำรุดไม่เพียงพอในการส่ง</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
        </div>

      </div>
      <!-- /.container-fluid -->

      <!-- Sticky Footer -->
      <div data-include="common/footer.html"></div>

    </div>
    <!-- /.content-wrapper -->

  </div>
  <!-- /#wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

   <!-- Logout Modal-->
   <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">ต้องการออกจากระบบ?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">เลือก "ออกจากระบบ" ถ้าคุณต้องการออกจากระบบ</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">ยกเลิก</button>
          <a class="btn btn-primary" href="login.html">ออกจากระบบ</a>
        </div>
      </div>
    </div>
  </div>

    <!-- reject Modal-->
    <div class="modal fade" id="rejectModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header bg-danger">
            <h5 class="modal-title text-white" id="exampleModalLabel">Reject</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">
              <div class="row"> 
                  <div class="col-md-3 title text-right mt-2">หมายเลขคำสั่งซื้อ :</div> 
                  <div class="col-md-9 d-flex mt-2">                                          
                      <input type="text" class="width-150 form-control mr-2" id="reject-orderId" value="12620009" focus>
                  </div>
                  <div class="col-md-3 title text-right mt-2">หมายเหตุ :</div> 
                  <div class="col-md-9 d-flex mt-2">                                          
                    <textarea class="form-control mr-2 height-150" id="remark" ></textarea>
                  </div>
              </div>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" type="button" data-dismiss="modal">ยกเลิก</button>
              <div class="btn btn-danger" onclick="reject()">ยืนยัน</div>
            </div>
          </div>
        </div>
      </div>


  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  
  <!-- Footer Header -->
  <script src="js/csi.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Page level plugin JavaScript-->
  <script src="vendor/chart.js/Chart.min.js"></script>
  <script src="vendor/datatables/jquery.dataTables.js"></script>
  <script src="vendor/datatables/dataTables.bootstrap4.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin.js"></script>
  <script src="js/sweetalert2.js"></script>

  <!-- Demo scripts for this page-->
  <script src="js/demo/datatables-demo.js"></script>
  <script src="js/demo/chart-area-demo.js"></script>

  <script>
     function reject(){
        var orderId = $("#reject-orderId").val();
        var remark = $("#remark").val();
          if(orderId && remark){
              // TODO // Insert infomation in DB
            Swal.fire({
                title:'เสร็จสิ้น',
                text:'ทำการส่งข้อมูลแล้ว',          
                type: 'success',
                timer: 1000,
            }).then(result => {$('#rejectModal').modal('hide');});
          }
          else{
            Swal.fire(
                'ผิดพลาด',
                'กรุณาใส่ข้อมูลให้ครบถ้วน',
                'error'
            );
          }
     }   

    function approve(){
        Swal.fire({
          title:'เสร็จสิ้น',
          text:'ทำการ Update ข้อมูล',          
          type: 'success'
        });  
    }
  </script>
</body>

</html>
